# CV Studio å¼€å‘æ—¥è®°

## 2025-12-15 ç¬¬1å¤© - é¡¹ç›®åˆå§‹åŒ–ä¸åŸºç¡€æ¶æ„æ­å»º

### ğŸ“‹ ä»Šæ—¥ç›®æ ‡
- å®Œæˆé¡¹ç›®åˆå§‹åŒ–å’ŒGitä»“åº“è®¾ç½®
- æ­å»ºåç«¯FastAPIåŸºç¡€æ¡†æ¶
- åˆ›å»ºå‰ç«¯Reacté¡¹ç›®ç»“æ„
- å®ç°åŸºç¡€çš„ç”¨æˆ·è®¤è¯ç³»ç»Ÿ

### âœ… å®Œæˆçš„å·¥ä½œ

#### 1. é¡¹ç›®åˆå§‹åŒ–
- **Gitä»“åº“åˆå§‹åŒ–**
  - æˆåŠŸåˆå§‹åŒ–æœ¬åœ°Gitä»“åº“
  - è¿æ¥åˆ°GitHubè¿œç¨‹ä»“åº“ (MINGYUz01/cvStudio)
  - åˆ›å»ºå®Œæ•´çš„é¡¹ç›®ç›®å½•ç»“æ„
  - ç¼–å†™è¯¦ç»†çš„`CLAUDE.md`å¼€å‘é…ç½®æ–‡æ¡£

- **é¡¹ç›®ç»“æ„è§„åˆ’**
  - é‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„
  - æ¨¡å—åŒ–è®¾è®¡ï¼Œå„åŠŸèƒ½ç‹¬ç«‹
  - å®Œæ•´çš„æ–‡æ¡£å’Œæµ‹è¯•ç›®å½•è§„åˆ’
  - éƒ¨ç½²å’ŒCI/CDé…ç½®é¢„ç•™

#### 2. åç«¯å¼€å‘ (FastAPI)

**ç¯å¢ƒæ­å»º**
```
Pythonç‰ˆæœ¬: 3.11
åŒ…ç®¡ç†å™¨: Conda (cvstudioç¯å¢ƒ)
ä¸»è¦ä¾èµ–:
- fastapi=0.104.1
- uvicorn=0.24.0
- sqlalchemy=2.0.23
- pydantic=2.5.0
- python-jose=3.3.0
- passlib=1.7.4
- python-multipart=0.0.6
```

**æ ¸å¿ƒåŠŸèƒ½å®ç°**
- **FastAPIåº”ç”¨é…ç½®** (`backend/app/main.py`)
  - CORSä¸­é—´ä»¶é…ç½®
  - APIè·¯ç”±æ³¨å†Œ
  - JWTè®¤è¯ä¸­é—´ä»¶é›†æˆ
  - å¼‚å¸¸å¤„ç†æœºåˆ¶

- **æ•°æ®åº“è®¾è®¡**
  - SQLAlchemy ORMé…ç½®
  - SQLiteæ•°æ®åº“è®¾ç½®
  - ç”¨æˆ·æ¨¡å‹è®¾è®¡ (User)
  - è‡ªåŠ¨è¡¨åˆ›å»ºæœºåˆ¶

- **è®¤è¯ç³»ç»Ÿ**
  - JWT tokenç”Ÿæˆä¸éªŒè¯
  - bcryptå¯†ç åŠ å¯†
  - è®¤è¯ä¾èµ–æ³¨å…¥
  - å®‰å…¨é…ç½® (SECRET_KEY, ALGORITHM)

- **APIè·¯ç”±ç»“æ„**
  - `/api/v1/auth/` - è®¤è¯ç›¸å…³
  - `/api/v1/users/` - ç”¨æˆ·ç®¡ç†
  - `/api/v1/datasets/` - æ•°æ®é›†ç®¡ç†
  - `/api/v1/models/` - æ¨¡å‹ç®¡ç†
  - `/api/v1/training/` - è®­ç»ƒä»»åŠ¡
  - `/api/v1/inference/` - æ¨ç†ä»»åŠ¡

#### 3. å‰ç«¯å¼€å‘ (React)

**é¡¹ç›®åˆå§‹åŒ–**
```
æ¡†æ¶: React 18.2.0
æ„å»ºå·¥å…·: Vite 5.0.8
UIåº“: Ant Design 5.12.8
çŠ¶æ€ç®¡ç†: Redux Toolkit 2.0.1
è·¯ç”±: React Router DOM 6.21.1
```

**é¡¹ç›®ç»“æ„**
- **ç»„ä»¶åŒ–è®¾è®¡**
  - Layoutç»„ä»¶ (Header, Sidebar)
  - é¡µé¢ç»„ä»¶ (Login, Dashboard, Datasetsç­‰)
  - ä¸šåŠ¡ç»„ä»¶ (DatasetList, ModelBuilderç­‰)
  - é€šç”¨ç»„ä»¶ (Loading, ErrorBoundaryç­‰)

- **çŠ¶æ€ç®¡ç†**
  - Redux Toolkité…ç½®
  - authSlice (è®¤è¯çŠ¶æ€)
  - datasetSlice (æ•°æ®é›†çŠ¶æ€)
  - storeç»Ÿä¸€ç®¡ç†

- **è·¯ç”±ç³»ç»Ÿ**
  - BrowserRouteré…ç½®
  - è·¯ç”±ä¿æŠ¤æœºåˆ¶
  - åµŒå¥—è·¯ç”±è®¾è®¡

#### 4. æ ¸å¿ƒåŠŸèƒ½å®ç°

**ç”¨æˆ·è®¤è¯ç³»ç»Ÿ**
- æ³¨å†ŒåŠŸèƒ½: POST `/api/v1/auth/register`
- ç™»å½•åŠŸèƒ½: POST `/api/v1/auth/login`
- è·å–å½“å‰ç”¨æˆ·: GET `/api/v1/users/me`
- TokenéªŒè¯ä¸­é—´ä»¶
- å¯†ç å¼ºåº¦éªŒè¯

**æµ‹è¯•æ•°æ®åˆ›å»º**
- ç®¡ç†å‘˜è´¦æˆ·: admin/admin123
- æ¼”ç¤ºè´¦æˆ·: demo/demo123
- æµ‹è¯•è´¦æˆ·: test/test123

### ğŸ”§ æŠ€æœ¯æŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆ

#### é—®é¢˜1: bcryptç‰ˆæœ¬å…¼å®¹æ€§
**é—®é¢˜**: å®‰è£…bcryptæ—¶å‡ºç°"error: can't find Rust compiler"é”™è¯¯
**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ–¹æ³•1: å®‰è£…é¢„ç¼–è¯‘ç‰ˆæœ¬
pip install bcrypt --prefer-binary

# æ–¹æ³•2: é™ä½ç‰ˆæœ¬
pip install bcrypt==4.0.1
```
æœ€ç»ˆé‡‡ç”¨äº†æ–¹æ¡ˆ2ï¼ŒæˆåŠŸå®‰è£…bcrypt 4.0.1ç‰ˆæœ¬

#### é—®é¢˜2: ç¼ºå¤±email-validatorä¾èµ–
**é—®é¢˜**: è¿è¡Œæ—¶æç¤º"Email validation requires email_validator"
**è§£å†³æ–¹æ¡ˆ**:
```bash
pip install email-validator
```
æ·»åŠ åˆ°requirements.txtä¸­ç¡®ä¿ä¾èµ–å®Œæ•´

#### é—®é¢˜3: æ•°æ®åº“schemaä¸åŒ¹é…
**é—®é¢˜**: SQLAlchemyåˆ›å»ºçš„è¡¨ç»“æ„ä¸é¢„æœŸä¸ç¬¦
**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥æ¨¡å‹å®šä¹‰çš„è¡¨åå’Œå­—æ®µ
- ä½¿ç”¨Base.metadata.create_all()è‡ªåŠ¨åˆ›å»º
- æ·»åŠ idã€created_atã€updated_atç­‰å¿…è¦å­—æ®µ

#### é—®é¢˜4: å‰ç«¯authæœåŠ¡å¯¼å…¥é”™è¯¯
**é—®é¢˜**: Loginç»„ä»¶ä¸­å¯¼å…¥authServiceå¤±è´¥
**è§£å†³æ–¹æ¡ˆ**:
```javascript
// é”™è¯¯å†™æ³•
import authService from '../services/auth'

// æ­£ç¡®å†™æ³•
import authService from '../services/auth'
```
ç¡®ä¿è·¯å¾„å’Œæ–‡ä»¶åå¤§å°å†™æ­£ç¡®

#### é—®é¢˜5: ç«¯å£å†²çª
**é—®é¢˜**: 8000ç«¯å£è¢«å…¶ä»–ç¨‹åºå ç”¨
**è§£å†³æ–¹æ¡ˆ**: ä¿®æ”¹uvicornå¯åŠ¨å‘½ä»¤ï¼Œä½¿ç”¨8001ç«¯å£
```bash
uvicorn app.main:app --host 0.0.0.0 --port 8001 --reload
```

### ğŸ“Š ä»£ç ç»Ÿè®¡
- **åç«¯ä»£ç **: 15ä¸ªPythonæ–‡ä»¶
- **å‰ç«¯ä»£ç **: 20ä¸ªJS/JSXæ–‡ä»¶
- **é…ç½®æ–‡ä»¶**: 8ä¸ª
- **æ€»ä»£ç è¡Œæ•°**: çº¦1500è¡Œ

### ğŸ“ é‡è¦æ–‡ä»¶åˆ—è¡¨

**åç«¯æ ¸å¿ƒæ–‡ä»¶**
- `backend/app/main.py` - FastAPIåº”ç”¨å…¥å£
- `backend/app/config.py` - é…ç½®ç®¡ç†
- `backend/app/database.py` - æ•°æ®åº“è¿æ¥
- `backend/app/core/security.py` - å®‰å…¨ç›¸å…³åŠŸèƒ½
- `backend/app/models/user.py` - ç”¨æˆ·æ•°æ®æ¨¡å‹
- `backend/app/schemas/user.py` - ç”¨æˆ·Pydanticæ¨¡å¼
- `backend/app/api/v1/auth.py` - è®¤è¯APIè·¯ç”±
- `backend/app/api/v1/users.py` - ç”¨æˆ·APIè·¯ç”±

**å‰ç«¯æ ¸å¿ƒæ–‡ä»¶**
- `frontend/src/main.jsx` - Reactåº”ç”¨å…¥å£
- `frontend/src/App.jsx` - ä¸»åº”ç”¨ç»„ä»¶
- `frontend/src/store/index.js` - Redux storeé…ç½®
- `frontend/src/services/auth.js` - è®¤è¯APIæœåŠ¡
- `frontend/src/pages/Login.jsx` - ç™»å½•é¡µé¢
- `frontend/src/components/Layout/index.jsx` - å¸ƒå±€ç»„ä»¶
- `frontend/src/router/index.jsx` - è·¯ç”±é…ç½®

### ğŸš€ å½“å‰è¿è¡ŒçŠ¶æ€
- **åç«¯æœåŠ¡**: http://localhost:8001 âœ… æ­£å¸¸è¿è¡Œ
- **APIæ–‡æ¡£**: http://localhost:8001/docs âœ… å¯è®¿é—®
- **æ•°æ®åº“**: SQLite âœ… å·²åˆ›å»ºå¹¶åˆå§‹åŒ–
- **å‰ç«¯é¡¹ç›®**: âœ… ç»“æ„å®Œæ•´ï¼Œå¾…å¯åŠ¨

### ğŸ“ æµ‹è¯•éªŒè¯
```bash
# APIæµ‹è¯•æˆåŠŸæ¡ˆä¾‹
curl -X POST "http://localhost:8001/api/v1/auth/login" \
     -H "Content-Type: application/x-www-form-urlencoded" \
     -d "username=admin&password=admin123"

# è¿”å›å“åº”
{
  "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "token_type": "bearer"
}
```

### ğŸ¯ æ˜æ—¥è®¡åˆ’
1. **æ•°æ®é›†ç®¡ç†æ¨¡å—**
   - æ•°æ®é›†ä¸Šä¼ åŠŸèƒ½
   - å›¾åƒé¢„è§ˆç»„ä»¶
   - æ ‡æ³¨æ ¼å¼è¯†åˆ« (YOLO, COCO, VOC)

2. **å‰ç«¯é¡µé¢å¼€å‘**
   - å®Œæˆç™»å½•é¡µé¢UI
   - å®ç°Dashboardå¸ƒå±€
   - é›†æˆAnt Designç»„ä»¶

3. **APIå®Œå–„**
   - æ•°æ®é›†CRUDæ¥å£
   - æ–‡ä»¶ä¸Šä¼ å¤„ç†
   - WebSocketå®æ—¶é€šä¿¡

### ğŸ’¡ å¼€å‘å¿ƒå¾—
ä»Šå¤©æ˜¯é¡¹ç›®çš„ç¬¬ä¸€å¤©ï¼Œè™½ç„¶é‡åˆ°äº†ä¸€äº›ç¯å¢ƒé…ç½®çš„å°é—®é¢˜ï¼Œä½†æ•´ä½“è¿›å±•é¡ºåˆ©ã€‚FastAPIçš„è‡ªåŠ¨APIæ–‡æ¡£åŠŸèƒ½çœŸçš„å¾ˆæ£’ï¼Œæå¤§æå‡äº†å¼€å‘æ•ˆç‡ã€‚React + Viteçš„ç»„åˆä¹Ÿè®©å‰ç«¯å¼€å‘å˜å¾—éå¸¸æµç•…ã€‚æ˜æ—¥è¦ä¸“æ³¨äºæ•°æ®é›†ç®¡ç†æ¨¡å—çš„å¼€å‘ï¼Œè¿™æ˜¯æ•´ä¸ªCVå¹³å°çš„åŸºç¡€åŠŸèƒ½ã€‚

### ğŸ” åæ€ä¸æ”¹è¿›
1. åº”è¯¥æ›´æ—©åœ°åˆ›å»ºrequirements.txtæ–‡ä»¶ï¼Œé¿å…ä¾èµ–ç‰ˆæœ¬æ··ä¹±
2. å‰åç«¯çš„æ¥å£å®šä¹‰éœ€è¦æ›´è¯¦ç»†çš„æ–‡æ¡£
3. è€ƒè™‘æ·»åŠ æ›´å¤šçš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•
4. éœ€è¦ç¼–å†™å•å…ƒæµ‹è¯•æ¥ç¡®ä¿ä»£ç è´¨é‡

---
*å¼€å‘äººå‘˜: Claude Sonnet 4.5*
*å¼€å‘ç¯å¢ƒ: Windows 11 + Conda + VS Code*